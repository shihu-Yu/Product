<!-- 引入模板 -->
{% extends "./layout.html" %}

{% block title %}我的个人博客-首页{% endblock %}

{% block style %}
<link rel="stylesheet" href="css/index.css">
{% endblock %}

{% block content %}
<!-- 轮播图 -->
<div id="carousel-example-generic" class="carousel slide custom-carousel" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
        <li data-target="#carousel-example-generic" data-slide-to="1"></li>
    </ol>
  
    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <img src="/images/carousel/s1.jpg" alt="">
            <div class="carousel-caption">
            
            </div>
        </div>
        <div class="item">
            <img src="/images/carousel/s2.jpg" alt="">
            <div class="carousel-caption">
            
            </div>
        </div>

    </div>
  
    <!-- Controls -->
    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
</div>

  <!-- 热门文章列表 -->
{% for article in articles %}
<div class="panel panel-default article-panel">
    <!-- Default panel contents -->
    <div class="panel-heading">
        <a href="/detail/{{article._id.toString()}}"> <h3 class="panel-title">{{article.title}}</h3></a>      
    </div>
    <div class="panel-body" >
       {{article.intro}}
    </div>
    <div class="panel-footer">
        <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
        <span class="footer-text text-muted">{{article.user.username}}</span>
        <span class="glyphicon glyphicon-list" aria-hidden="true"></span>
        <span class="footer-text text-muted">{{article.category.name}}</span>
        <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
        <span class="footer-text text-muted">{{article.createTime}}</span>
        <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
        <span class="footer-text text-muted"><span class="view-num">{{article.click}}</span>人已阅读</span>
    </div>
</div>
{% endfor %}
<!-- 分页 -->
<nav aria-label="Page navigation">
    <ul class="pagination">
        {% if page==1 %}
        <li class="disabled">
            <a href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        {% else %}
        <li>
            <a href="{{ url }}?page={{ page-1 }}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        {% endif %}
        {% for i in list %}
            {% if i == page %}
                <li class="active"><a href="javascript:;">{{ i }}</a></li>
            {% else %}
                <li><a href="{{ url }}?page={{ i }}">{{ i }}</a></li>
            {% endif %}
        {% endfor %}

        {% if page == pages %}
        <li class="disabled">
            <a href="#" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
        {% else %}
        <li>
            <a href="{{ url }}?page={{ page+1 }}" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
        {% endif %}
    </ul>
  </nav>
{% endblock %}

{% block script %}
<script src="/js/index.js"></script>
{% endblock %}

